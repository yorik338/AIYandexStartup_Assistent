<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ayvor Assistant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <div class="header">
    <div class="logo">
      <div class="logo-icon">ü§ñ</div>
      <h1>AYVOR</h1>
    </div>
    <div class="header-info">
      <div class="apps-counter" id="appsCounter" title="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è">
        <span class="apps-icon">üì¶</span>
        <span id="appsCount">-</span> –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
      </div>
      <div class="status-indicator" id="statusIndicator">
        <span class="status-dot"></span>
        <span id="statusText">–ì–æ—Ç–æ–≤</span>
      </div>
    </div>
  </div>

  <!-- Main Content - Clean Input Area -->
  <div class="main-area">
    <div class="input-section">
      <h2 class="welcome-text">–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</h2>
      <p class="hint-text">–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω</p>

      <!-- Combined Input: Text + Mic -->
      <div class="unified-input">
        <input type="text" id="commandInput" class="command-input" placeholder="–æ—Ç–∫—Ä–æ–π Chrome, –∑–∞–ø—É—Å—Ç–∏ Telegram, –ø–æ–∫–∞–∂–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª..." autocomplete="off" />
        <button class="mic-btn" id="micButton" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ (Ctrl+Shift+Space)">
          <svg class="mic-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
            <line x1="12" y1="19" x2="12" y2="23"></line>
            <line x1="8" y1="23" x2="16" y2="23"></line>
          </svg>
        </button>
        <button class="send-btn" id="sendBtn" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å (Enter)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>

      <!-- Quick Commands -->
      <div class="quick-commands">
        <button class="quick-cmd" data-cmd="–æ—Ç–∫—Ä–æ–π Chrome">üåê Chrome</button>
        <button class="quick-cmd" data-cmd="–æ—Ç–∫—Ä–æ–π Telegram">üí¨ Telegram</button>
        <button class="quick-cmd" data-cmd="–ø–æ–∫–∞–∂–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª">üñ•Ô∏è –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª</button>
        <button class="quick-cmd" data-cmd="—Å–∫—Ä–∏–Ω—à–æ—Ç">üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç</button>
        <button class="quick-cmd" data-cmd="–≤—ã–∫–ª—é—á–∏ –∑–≤—É–∫">üîá Mute</button>
      </div>
    </div>
  </div>

  <!-- Bottom Panel - Results, History, Log -->
  <div class="bottom-panel" id="bottomPanel">
    <div class="panel-resize-handle" id="panelResizeHandle"></div>
    <div class="panel-tabs">
      <button class="panel-tab active" data-tab="result">üìã –†–µ–∑—É–ª—å—Ç–∞—Ç</button>
      <button class="panel-tab" data-tab="history">üìú –ò—Å—Ç–æ—Ä–∏—è</button>
      <button class="panel-tab" data-tab="log">üîß –õ–æ–≥</button>
    </div>

    <div class="panel-content">
      <!-- Result Tab -->
      <div class="tab-content active" id="resultTab">
        <div class="result-grid">
          <div class="result-item">
            <div class="result-label">–†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ:</div>
            <div class="result-value" id="transcriptBox">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">–ö–æ–º–∞–Ω–¥–∞:</div>
            <div class="result-value code" id="commandBox">-</div>
          </div>
          <div class="result-item full-width">
            <div class="result-label">–†–µ–∑—É–ª—å—Ç–∞—Ç:</div>
            <div class="result-value" id="responseBox">-</div>
          </div>
        </div>
      </div>

      <!-- History Tab -->
      <div class="tab-content" id="historyTab">
        <div class="history-list" id="historyList">
          <div class="history-placeholder">–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –ø—É—Å—Ç–∞</div>
        </div>
      </div>

      <!-- Log Tab -->
      <div class="tab-content" id="logTab">
        <div class="log-header">
          <span>–°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥</span>
          <div class="log-actions">
            <button class="log-btn" id="copyErrorBtn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
            <button class="log-btn" id="clearLogBtn" title="–û—á–∏—Å—Ç–∏—Ç—å">üóëÔ∏è</button>
          </div>
        </div>
        <div class="log-content" id="errorLogContent">
          <span class="log-placeholder">–õ–æ–≥ –ø—É—Å—Ç...</span>
        </div>
      </div>
    </div>

    <!-- Audio Visualizer Bar -->
    <div class="visualizer-bar" id="visualizerBar">
      <div class="visualizer-label">üé§</div>
      <div class="visualizer-bars" id="visualizerBars">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
      </div>
      <div class="visualizer-status" id="visualizerStatus">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    </div>
  </div>

  <!-- Apps List Modal -->
  <div class="modal-overlay" id="appsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>üì¶ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
        <button class="close-btn" id="closeAppsModal">√ó</button>
      </div>
      <div class="modal-search">
        <input type="text" id="appsSearchInput" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π..." />
      </div>
      <div class="apps-list" id="appsList">
        <div class="apps-loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
    </div>
  </div>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settingsPanel">
    <div class="settings-header">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <button class="close-btn" id="closeSettings">√ó</button>
    </div>
    <div class="settings-content">
      <div class="setting-group">
        <label>C# Core Endpoint:</label>
        <input type="text" id="coreEndpoint" placeholder="http://localhost:5055" />
      </div>
      <div class="setting-group">
        <label>OpenAI API Key:</label>
        <input type="password" id="openaiKey" placeholder="sk-..." />
      </div>
      <div class="setting-group">
        <label>–Ø–∑—ã–∫:</label>
        <select id="language">
          <option value="ru-RU">–†—É—Å—Å–∫–∏–π</option>
          <option value="en-US">English</option>
        </select>
      </div>
      <div class="setting-group">
        <label>–ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞:</label>
        <input type="text" id="hotkey" value="Ctrl+Shift+Space" readonly />
      </div>
      <button class="save-btn" id="saveSettings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>

  <!-- Floating Controls -->
  <div class="floating-controls">
    <button class="float-btn" id="scanAppsBtn" title="–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">üîç</button>
    <button class="float-btn" id="settingsBtn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
    <button class="float-btn" id="minimizeBtn" title="–°–≤–µ—Ä–Ω—É—Ç—å –≤ —Ç—Ä–µ–π">‚ûñ</button>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
