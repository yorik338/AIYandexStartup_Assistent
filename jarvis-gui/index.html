<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ayvor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <span class="logo-icon">‚óÜ</span>
          <span class="logo-text">AYVOR</span>
        </div>
      </div>

      <div class="nav-items">
        <button class="nav-item active" data-page="home" title="–ì–ª–∞–≤–Ω–∞—è">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </button>

        <button class="nav-item" data-page="apps" title="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</span>
          <span class="nav-badge" id="appsBadge">0</span>
        </button>

        <button class="nav-item" data-page="voice" title="–ì–æ–ª–æ—Å">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
            <line x1="12" y1="19" x2="12" y2="23"></line>
            <line x1="8" y1="23" x2="16" y2="23"></line>
          </svg>
          <span>–ì–æ–ª–æ—Å</span>
        </button>

        <button class="nav-item" data-page="history" title="–ò—Å—Ç–æ—Ä–∏—è">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span>–ò—Å—Ç–æ—Ä–∏—è</span>
        </button>
      </div>

      <div class="nav-bottom">
        <button class="nav-item" data-page="settings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
          <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </button>
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content">
      <!-- Window Controls (for frameless window) -->
      <div class="window-controls">
        <div class="status-indicator" id="statusIndicator">
          <span class="status-dot"></span>
          <span id="statusText">–ì–æ—Ç–æ–≤</span>
        </div>
        <div class="window-buttons">
          <button class="win-btn minimize" id="minimizeBtn" title="–°–≤–µ—Ä–Ω—É—Ç—å –≤ —Ç—Ä–µ–π">
            <svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z" fill="currentColor"/></svg>
          </button>
          <button class="win-btn close" id="closeBtn" title="–ó–∞–∫—Ä—ã—Ç—å">
            <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/></svg>
          </button>
        </div>
      </div>

      <!-- Page: Home -->
      <section class="page active" id="page-home">
        <div class="page-header">
          <h1>–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –ø–æ–º–æ—á—å?</h1>
          <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞</p>
        </div>

        <!-- Wake Word Section -->
        <div class="wake-word-section">
          <button class="wake-word-btn active" id="wakeWordBtn" title="–ì–æ–ª–æ—Å–æ–≤–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è '–ê–≤—Ä–æ—Ä–∞' - –≤—Å–µ–≥–¥–∞ —Å–ª—É—à–∞–µ—Ç">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
            "–ê–≤—Ä–æ—Ä–∞" –∞–∫—Ç–∏–≤–Ω–∞
          </button>
          <span class="wake-status" id="wakeWordStatus">–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏...</span>
        </div>

        <div class="command-section">
          <div class="command-input-wrapper">
            <input type="text" id="commandInput" class="command-input" placeholder="–æ—Ç–∫—Ä–æ–π Chrome, –∑–∞–ø—É—Å—Ç–∏ Telegram, –ø–æ–∫–∞–∂–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª..." autocomplete="off" />
            <button class="mic-btn" id="micButton" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ (Ctrl+Shift+Space)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                <line x1="12" y1="19" x2="12" y2="23"></line>
                <line x1="8" y1="23" x2="16" y2="23"></line>
              </svg>
            </button>
            <button class="send-btn" id="sendBtn" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å (Enter)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
            </button>
          </div>

          <!-- Audio Visualizer -->
          <div class="visualizer-container" id="visualizerContainer">
            <div class="visualizer-bars" id="visualizerBars">
              <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
              <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
              <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
            </div>
            <span class="visualizer-status" id="visualizerStatus">–û–∂–∏–¥–∞–Ω–∏–µ...</span>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
          <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
          <div class="quick-grid">
            <button class="quick-btn" data-cmd="–æ—Ç–∫—Ä–æ–π Chrome">
              <span class="quick-icon">üåê</span>
              <span class="quick-label">Chrome</span>
            </button>
            <button class="quick-btn" data-cmd="–æ—Ç–∫—Ä–æ–π Telegram">
              <span class="quick-icon">üí¨</span>
              <span class="quick-label">Telegram</span>
            </button>
            <button class="quick-btn" data-cmd="–ø–æ–∫–∞–∂–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª">
              <span class="quick-icon">üñ•Ô∏è</span>
              <span class="quick-label">–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª</span>
            </button>
            <button class="quick-btn" data-cmd="—Å–∫—Ä–∏–Ω—à–æ—Ç">
              <span class="quick-icon">üì∏</span>
              <span class="quick-label">–°–∫—Ä–∏–Ω—à–æ—Ç</span>
            </button>
            <button class="quick-btn" data-cmd="–≤—ã–∫–ª—é—á–∏ –∑–≤—É–∫">
              <span class="quick-icon">üîá</span>
              <span class="quick-label">Mute</span>
            </button>
            <button class="quick-btn" data-cmd="–≥—Ä–æ–º–∫–æ—Å—Ç—å 50">
              <span class="quick-icon">üîä</span>
              <span class="quick-label">–ì—Ä–æ–º–∫–æ—Å—Ç—å 50%</span>
            </button>
          </div>
        </div>

        <!-- Result Card -->
        <div class="result-card" id="resultCard">
          <div class="result-header">
            <span class="result-title">–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span>
            <span class="result-time" id="resultTime">-</span>
          </div>
          <div class="result-body">
            <div class="result-row">
              <span class="result-label">–†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ:</span>
              <span class="result-value" id="transcriptBox">-</span>
            </div>
            <div class="result-row">
              <span class="result-label">–ö–æ–º–∞–Ω–¥–∞:</span>
              <code class="result-code" id="commandBox">-</code>
            </div>
            <div class="result-row">
              <span class="result-label">–†–µ–∑—É–ª—å—Ç–∞—Ç:</span>
              <span class="result-value" id="responseBox">-</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Page: Apps -->
      <section class="page" id="page-apps">
        <div class="page-header">
          <h1>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h1>
          <p class="subtitle">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ</p>
        </div>

        <div class="apps-toolbar">
          <div class="search-box">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="appsSearchInput" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π..." />
          </div>
          <button class="btn-primary" id="scanAppsBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"></polyline>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
            </svg>
            –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>

        <div class="apps-grid" id="appsList">
          <div class="apps-placeholder">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <rect x="3" y="3" width="7" height="7"></rect>
              <rect x="14" y="3" width="7" height="7"></rect>
              <rect x="14" y="14" width="7" height="7"></rect>
              <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
            <p>–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
          </div>
        </div>
      </section>

      <!-- Page: Voice -->
      <section class="page" id="page-voice">
        <div class="page-header">
          <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–æ–ª–æ—Å–∞</h1>
          <p class="subtitle">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è</p>
        </div>

        <div class="settings-cards">
          <div class="settings-card">
            <h3>–ú–∏–∫—Ä–æ—Ñ–æ–Ω</h3>
            <div class="setting-row">
              <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:</label>
              <div class="select-wrapper">
                <select id="microphoneDevice">
                  <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                </select>
                <button class="icon-btn" id="refreshMics" title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="23 4 23 10 17 10"></polyline>
                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                  </svg>
                </button>
              </div>
            </div>

            <div class="setting-row">
              <label>–ü–æ—Ä–æ–≥ —Ç–∏—à–∏–Ω—ã: <span id="silenceThresholdValue">200</span></label>
              <input type="range" id="silenceThreshold" min="50" max="1000" value="200" class="slider" />
              <small>–ß–µ–º –≤—ã—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–µ–º –≥—Ä–æ–º—á–µ –Ω—É–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å</small>
            </div>

            <div class="setting-row">
              <label class="checkbox-label">
                <input type="checkbox" id="noiseSuppression" checked />
                <span class="checkmark"></span>
                –®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ
              </label>
            </div>

            <div class="setting-row">
              <label class="checkbox-label">
                <input type="checkbox" id="autoGainControl" checked />
                <span class="checkmark"></span>
                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
              </label>
            </div>
          </div>

          <div class="settings-card">
            <h3>–¢–µ—Å—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</h3>
            <div class="mic-test-area">
              <div class="mic-level-bar">
                <div class="mic-level-fill" id="micLevelFill"></div>
              </div>
              <button class="btn-primary" id="testMicBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                  <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                </svg>
                –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Page: History -->
      <section class="page" id="page-history">
        <div class="page-header">
          <h1>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥</h1>
          <p class="subtitle">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</p>
        </div>

        <div class="history-toolbar">
          <button class="btn-secondary" id="clearHistoryBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
            –û—á–∏—Å—Ç–∏—Ç—å
          </button>
        </div>

        <div class="history-list" id="historyList">
          <div class="history-placeholder">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <p>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –ø—É—Å—Ç–∞</p>
          </div>
        </div>

        <!-- Log Section -->
        <div class="log-section">
          <div class="log-header">
            <h3>–°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥</h3>
            <div class="log-actions">
              <button class="icon-btn" id="copyLogBtn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
              </button>
              <button class="icon-btn" id="clearLogBtn" title="–û—á–∏—Å—Ç–∏—Ç—å">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="3 6 5 6 21 6"></polyline>
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                </svg>
              </button>
            </div>
          </div>
          <div class="log-content" id="logContent">
            <span class="log-placeholder">–õ–æ–≥ –ø—É—Å—Ç...</span>
          </div>
        </div>
      </section>

      <!-- Page: Settings -->
      <section class="page" id="page-settings">
        <div class="page-header">
          <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
          <p class="subtitle">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
        </div>

        <div class="settings-cards">
          <div class="settings-card">
            <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</h3>
            <div class="setting-row">
              <label>C# Core Endpoint:</label>
              <input type="text" id="coreEndpoint" class="text-input" placeholder="http://localhost:5055" />
            </div>
            <div class="setting-row">
              <label>OpenAI API Key:</label>
              <input type="password" id="openaiKey" class="text-input" placeholder="sk-..." />
            </div>
          </div>

          <div class="settings-card">
            <h3>–û–±—â–∏–µ</h3>
            <div class="setting-row">
              <label>–Ø–∑—ã–∫:</label>
              <select id="language" class="select-input">
                <option value="ru-RU">–†—É—Å—Å–∫–∏–π</option>
                <option value="en-US">English</option>
              </select>
            </div>
            <div class="setting-row">
              <label>–ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞:</label>
              <input type="text" id="hotkey" class="text-input" value="Ctrl+Shift+Space" readonly />
            </div>
          </div>

          <div class="settings-card">
            <h3>–û –ø—Ä–æ–≥—Ä–∞–º–º–µ</h3>
            <div class="about-info">
              <p><strong>Ayvor Assistant</strong></p>
              <p>–í–µ—Ä—Å–∏—è: 1.0.0</p>
              <p>–ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è Windows</p>
            </div>
          </div>
        </div>

        <div class="settings-actions">
          <button class="btn-primary" id="saveSettingsBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
              <polyline points="17 21 17 13 7 13 7 21"></polyline>
              <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
          </button>
        </div>
      </section>
    </main>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
